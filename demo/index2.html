<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Schema Example</title>
</head>
<body>
<script src="../build/schema.js"></script>
<script>
    var Schema = cobra.Schema;

    cobra.schemaType('Email', function (val, options) {
        var regExp = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return regExp.test(val);
    });

    cobra.schemaType('Bind', function (val, options) {
        return val.indexOf('{{') !== -1 && val.indexOf('}}') !== -1;
    });

    cobra.schemaType('Position', function (val, options) {
        var regExpPos = /(\b\d+px\b)|(\b\d+\%$)/;

//        debugger;
//        Schema.Types.Bind;
//
//        // is a number
//        if (typeof val === 'number') {
//            return true;
//        }
//
//        // is a bind
//        if (val.indexOf('{{') !== -1 && val.indexOf('}}') !== -1) {
//            return true;
//        }

        // is a px or %
        return regExpPos.test(val);
    });

    var TestSchema = new Schema({
//        name: String,
//        label: String,
        width: 'Position'
    });

    cobra.model('Test', TestSchema);

    var Test = cobra.model('Test');

    var test = new Test({
//        id: 'myButton',
        width: '10px'
    });
//    test.name = 'My Label';

    test.check().then(function (resolvedData) {
        console.log('success', resolvedData);
    }, function (err) {
        console.log('error', err.message);
    });
</script>
</body>
</html>